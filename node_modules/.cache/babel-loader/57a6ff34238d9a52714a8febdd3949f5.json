{"ast":null,"code":"var _jsxFileName = \"/home/luffy/www/InnoscriptaTask/client/src/pages/Cart/index.jsx\";\nimport React from \"react\";\nimport CartStyle from \"./style\";\nimport { connect } from \"react-redux\";\nimport { plus, minus } from \"../../assets/icons\";\nimport SVGInline from \"react-svg-inline\";\nimport { addToBasket } from \"../../actions/addAction\";\nimport { removeFromBasket } from \"../../actions/removeAction\";\nimport { useFormik } from \"formik\";\nimport axios from \"axios\";\nimport { store } from \"react-notifications-component\";\n\nconst Cart = ({\n  basketProps,\n  addToBasket,\n  removeFromBasket,\n  cartCost,\n  history\n}) => {\n  let productsInCart = [];\n  Object.keys(basketProps.products).forEach(function (item) {\n    console.log(item);\n    console.log(basketProps.products[item].inCart);\n\n    if (basketProps.products[item].inCart) {\n      productsInCart.push(basketProps.products[item]);\n    }\n  });\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      price: cartCost.toFixed(2),\n      total_price: (cartCost + cartCost * 0.02).toFixed(2),\n      address: \"\",\n      phone: \"\",\n      orders: productsInCart\n    },\n    onSubmit: values => {\n      axios.post(\"http://localhost:8000/api/orders\", {\n        customer_name: values.name,\n        customer_address: values.address,\n        customer_phone: values.phone,\n        order_list: JSON.stringify(values.orders),\n        price: parseFloat(values.price),\n        total_price: parseFloat(values.total_price)\n      });\n      window.location.href = \"http://localhost:3000\";\n      store.addNotification({\n        title: \"Comment successfully deleted!\",\n        message: `Comment: \" Deleted! \"`,\n        type: \"danger\",\n        insert: \"top\",\n        container: \"top-right\",\n        animationIn: [\"animated\", \"bounceIn\"],\n        animationOut: [\"animated\", \"bounceOut\"],\n        dismiss: {\n          duration: 3000,\n          onScreen: false\n        },\n        content: /*#__PURE__*/React.createElement(\"div\", {\n          className: \"notification-custom-success\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"notification-custom-content\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"notification-message\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"message-header\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 17\n          }\n        }, \"Comment Successfully Deleted!\"))))\n      });\n    }\n  });\n\n  function camelize(str) {\n    return str.replace(/\\W+(.)/g, function (match, chr) {\n      return chr.toUpperCase();\n    });\n  }\n\n  productsInCart = productsInCart.map((val, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pizza-img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: `../images/${val.pizza_image}`,\n      alt: \"pizza-img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pizza-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"pizza-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, val.pizza_name), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"pizza-desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }, val.pizza_description), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pizza-quantity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, \"Quantity: \", val.numbers, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(SVGInline, {\n      className: \"plus\",\n      onClick: () => {\n        addToBasket(camelize(val.pizza_name));\n      },\n      svg: plus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(SVGInline, {\n      className: \"minus\",\n      onClick: () => {\n        removeFromBasket(camelize(val.pizza_name));\n      },\n      svg: minus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pizza-price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }, (val.pizza_price * val.numbers).toFixed(2), \"$\")));\n  });\n  return /*#__PURE__*/React.createElement(CartStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, \"Cart\"), productsInCart.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, productsInCart), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"summary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, \"Summary\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"subtotal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }, \"Subtotal\"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 31\n    }\n  }, cartCost.toFixed(2), \"$\"), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tax\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }, \"Delivery Cost (2%)\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }, (cartCost * 0.02).toFixed(2), \"$\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"final-total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 15\n    }\n  }, \"Total:\"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  }, (cartCost + cartCost * 0.02).toFixed(2), \"$\")), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary checkout-btn\",\n    \"data-toggle\": \"modal\",\n    \"data-target\": \"#exampleModal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, \"Checkout\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal fade\",\n    id: \"exampleModal\",\n    tabIndex: \"-1\",\n    role: \"dialog\",\n    \"aria-labelledby\": \"exampleModalLabel\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"modal-title\",\n    id: \"exampleModalLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, \"Checkout Form\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"close\",\n    \"data-dismiss\": \"modal\",\n    \"aria-label\": \"Close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 23\n    }\n  }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: formik.handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 27\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"name\",\n    name: \"name\",\n    className: \"form-control\",\n    type: \"text\",\n    onChange: formik.handleChange,\n    value: formik.values.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 27\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"address\",\n    name: \"address\",\n    className: \"form-control\",\n    type: \"text\",\n    onChange: formik.handleChange,\n    value: formik.values.address,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 27\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"phone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 27\n    }\n  }, \"Phone\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"phone\",\n    name: \"phone\",\n    className: \"form-control\",\n    type: \"text\",\n    onChange: formik.handleChange,\n    value: formik.values.phone,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    id: \"price\",\n    name: \"price\",\n    value: cartCost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 27\n    }\n  }, \"Total Price\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"total_price\",\n    name: \"total_price\",\n    className: \"form-control\",\n    type: \"number\",\n    onChange: formik.handleChange // value={formik.values.price}\n    ,\n    readOnly: true,\n    placeholder: (cartCost + cartCost * 0.02).toFixed(2) + ` $`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 27\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary\",\n    \"data-dismiss\": \"modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 23\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 23\n    }\n  }, \"Submit\")))))))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"callback-msg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }\n  }, \"There are no items in Cart.\"));\n};\n\nconst mapStateToProps = state => ({\n  basketProps: state.basketState,\n  cartCost: state.basketState.cartCost,\n  addToBasket: state.addToBasket,\n  removeFromBasket: state.removeFromBasket,\n  history: state.history\n});\n\nexport default connect(mapStateToProps, {\n  addToBasket,\n  removeFromBasket\n})(Cart);","map":{"version":3,"sources":["/home/luffy/www/InnoscriptaTask/client/src/pages/Cart/index.jsx"],"names":["React","CartStyle","connect","plus","minus","SVGInline","addToBasket","removeFromBasket","useFormik","axios","store","Cart","basketProps","cartCost","history","productsInCart","Object","keys","products","forEach","item","console","log","inCart","push","formik","initialValues","name","price","toFixed","total_price","address","phone","orders","onSubmit","values","post","customer_name","customer_address","customer_phone","order_list","JSON","stringify","parseFloat","window","location","href","addNotification","title","message","type","insert","container","animationIn","animationOut","dismiss","duration","onScreen","content","camelize","str","replace","match","chr","toUpperCase","map","val","index","pizza_image","pizza_name","pizza_description","numbers","pizza_price","length","handleSubmit","handleChange","mapStateToProps","state","basketState"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport CartStyle from \"./style\";\nimport { connect } from \"react-redux\";\nimport { plus, minus } from \"../../assets/icons\";\nimport SVGInline from \"react-svg-inline\";\nimport { addToBasket } from \"../../actions/addAction\";\nimport { removeFromBasket } from \"../../actions/removeAction\";\nimport { useFormik } from \"formik\";\nimport axios from \"axios\";\nimport { store } from \"react-notifications-component\";\n\nconst Cart = ({\n  basketProps,\n  addToBasket,\n  removeFromBasket,\n  cartCost,\n  history,\n}) => {\n  let productsInCart = [];\n\n  Object.keys(basketProps.products).forEach(function (item) {\n    console.log(item);\n    console.log(basketProps.products[item].inCart);\n    if (basketProps.products[item].inCart) {\n      productsInCart.push(basketProps.products[item]);\n    }\n  });\n\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      price: cartCost.toFixed(2),\n      total_price: (cartCost + cartCost * 0.02).toFixed(2),\n      address: \"\",\n      phone: \"\",\n      orders: productsInCart,\n    },\n    onSubmit: (values) => {\n      axios.post(\"http://localhost:8000/api/orders\", {\n        customer_name: values.name,\n        customer_address: values.address,\n        customer_phone: values.phone,\n        order_list: JSON.stringify(values.orders),\n        price: parseFloat(values.price),\n        total_price: parseFloat(values.total_price),\n      });\n\n      window.location.href = \"http://localhost:3000\";\n\n      store.addNotification({\n        title: \"Comment successfully deleted!\",\n        message: `Comment: \" Deleted! \"`,\n        type: \"danger\",\n        insert: \"top\",\n        container: \"top-right\",\n        animationIn: [\"animated\", \"bounceIn\"],\n        animationOut: [\"animated\", \"bounceOut\"],\n        dismiss: {\n          duration: 3000,\n          onScreen: false,\n        },\n        content: (\n          <div className=\"notification-custom-success\">\n            <div className=\"notification-custom-content\">\n              <div className=\"notification-message\">\n                <div className=\"message-header\">\n                  Comment Successfully Deleted!\n                </div>\n              </div>\n            </div>\n          </div>\n        ),\n      });\n    },\n  });\n\n  function camelize(str) {\n    return str.replace(/\\W+(.)/g, function (match, chr) {\n      return chr.toUpperCase();\n    });\n  }\n\n  productsInCart = productsInCart.map((val, index) => {\n    return (\n      <div className=\"product\" key={index}>\n        <div className=\"pizza-img\">\n          <img src={`../images/${val.pizza_image}`} alt=\"pizza-img\" />\n        </div>\n        <div className=\"pizza-description\">\n          <p className=\"pizza-name\">{val.pizza_name}</p>\n          <p className=\"pizza-desc\">{val.pizza_description}</p>\n          <div className=\"pizza-quantity\">\n            Quantity: {val.numbers}\n            <div className=\"icons\">\n              <SVGInline\n                className=\"plus\"\n                onClick={() => {\n                  addToBasket(camelize(val.pizza_name));\n                }}\n                svg={plus}\n              />\n              <SVGInline\n                className=\"minus\"\n                onClick={() => {\n                  removeFromBasket(camelize(val.pizza_name));\n                }}\n                svg={minus}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"pizza-price\">\n          <p>{(val.pizza_price * val.numbers).toFixed(2)}$</p>\n        </div>\n      </div>\n    );\n  });\n  return (\n    <CartStyle>\n      <div className=\"cart\">Cart</div>\n      {productsInCart.length > 0 ? (\n        <div className=\"products-container\">\n          <div className=\"products\">{productsInCart}</div>\n          <div className=\"total\">\n            <div className=\"summary\">Summary</div>\n            <div className=\"subtotal\">\n              <p>Subtotal</p> <span>{cartCost.toFixed(2)}$</span>{\" \"}\n            </div>\n            <div className=\"tax\">\n              <p>Delivery Cost (2%)</p>\n              <span>{(cartCost * 0.02).toFixed(2)}$</span>\n            </div>\n            <div className=\"final-total\">\n              <p>Total:</p>{\" \"}\n              <span>{(cartCost + cartCost * 0.02).toFixed(2)}$</span>\n            </div>\n\n            {/* Modal */}\n            <button\n              type=\"button\"\n              className=\"btn btn-primary checkout-btn\"\n              data-toggle=\"modal\"\n              data-target=\"#exampleModal\"\n            >\n              Checkout\n            </button>\n            <div\n              className=\"modal fade\"\n              id=\"exampleModal\"\n              tabIndex=\"-1\"\n              role=\"dialog\"\n              aria-labelledby=\"exampleModalLabel\"\n              aria-hidden=\"true\"\n            >\n              <div className=\"modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable\">\n                <div className=\"modal-content\">\n                  <div className=\"modal-header\">\n                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                      Checkout Form\n                    </h5>\n                    <button\n                      type=\"button\"\n                      className=\"close\"\n                      data-dismiss=\"modal\"\n                      aria-label=\"Close\"\n                    >\n                      <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                  </div>\n                  <form onSubmit={formik.handleSubmit}>\n                    <div className=\"modal-body\">\n                      <div className=\"row\">\n                        <div className=\"form-group col-md-6\">\n                          <label htmlFor=\"name\">Name</label>\n                          <input\n                            id=\"name\"\n                            name=\"name\"\n                            className=\"form-control\"\n                            type=\"text\"\n                            onChange={formik.handleChange}\n                            value={formik.values.name}\n                          />\n                        </div>\n                        <div className=\"form-group col-md-6\">\n                          <label htmlFor=\"address\">Address</label>\n                          <input\n                            id=\"address\"\n                            name=\"address\"\n                            className=\"form-control\"\n                            type=\"text\"\n                            onChange={formik.handleChange}\n                            value={formik.values.address}\n                          />\n                        </div>\n                      </div>\n                      <div className=\"row\">\n                        <div className=\"form-group col-md-6\">\n                          <label htmlFor=\"phone\">Phone</label>\n                          <input\n                            id=\"phone\"\n                            name=\"phone\"\n                            className=\"form-control\"\n                            type=\"text\"\n                            onChange={formik.handleChange}\n                            value={formik.values.phone}\n                          />\n                        </div>\n                        <input\n                          type=\"hidden\"\n                          id=\"price\"\n                          name=\"price\"\n                          value={cartCost}\n                        />\n                        <div className=\"form-group col-md-6\">\n                          <label htmlFor=\"price\">Total Price</label>\n                          <input\n                            id=\"total_price\"\n                            name=\"total_price\"\n                            className=\"form-control\"\n                            type=\"number\"\n                            onChange={formik.handleChange}\n                            // value={formik.values.price}\n                            readOnly\n                            placeholder={\n                              (cartCost + cartCost * 0.02).toFixed(2) + ` $`\n                            }\n                          />\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"modal-footer\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-secondary\"\n                        data-dismiss=\"modal\"\n                      >\n                        Close\n                      </button>\n                      <button type=\"submit\" className=\"btn btn-primary\">\n                        Submit\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n            {/* END of Modal */}\n          </div>\n        </div>\n      ) : (\n        <div className=\"callback-msg\">There are no items in Cart.</div>\n      )}\n    </CartStyle>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  basketProps: state.basketState,\n  cartCost: state.basketState.cartCost,\n  addToBasket: state.addToBasket,\n  removeFromBasket: state.removeFromBasket,\n  history: state.history,\n});\n\nexport default connect(mapStateToProps, { addToBasket, removeFromBasket })(\n  Cart\n);\n"]},"metadata":{},"sourceType":"module"}