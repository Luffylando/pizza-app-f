{"ast":null,"code":"import axios from \"axios\";\n\nclass AuthService {\n  login(email, password) {\n    return axios.post(\"http://localhost:8000/api/auth/login\", {\n      email,\n      password\n    }).then(response => {\n      if (response.data.access_token) {\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\n      }\n\n      return response.data;\n    });\n  }\n\n  logout() {\n    localStorage.removeItem(\"user\");\n  }\n\n  me() {\n    me = axios.get(\"http://localhost:8000/api/auth/me\", {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"user\").access_token}`\n      }\n    }).then(response => {\n      console.log(\"res\", response);\n      return me;\n    });\n  }\n\n  register(name, email, password) {\n    return axios.post(\"http://localhost:8000/api/auth/register\", {\n      name,\n      email,\n      password\n    });\n  }\n\n  getCurrentUser() {\n    return JSON.parse(localStorage.getItem(\"user\"));\n  }\n\n}\n\nexport default new AuthService();","map":{"version":3,"sources":["/home/luffy/www/InnoscriptaTask/client/src/services/auth-service.js"],"names":["axios","AuthService","login","email","password","post","then","response","data","access_token","localStorage","setItem","JSON","stringify","logout","removeItem","me","get","headers","Authorization","getItem","console","log","register","name","getCurrentUser","parse"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAN,CAAkB;AAChBC,EAAAA,KAAK,CAACC,KAAD,EAAQC,QAAR,EAAkB;AACrB,WAAOJ,KAAK,CACTK,IADI,CACC,sCADD,EACyC;AAC5CF,MAAAA,KAD4C;AAE5CC,MAAAA;AAF4C,KADzC,EAKJE,IALI,CAKEC,QAAD,IAAc;AAClB,UAAIA,QAAQ,CAACC,IAAT,CAAcC,YAAlB,EAAgC;AAC9BC,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeN,QAAQ,CAACC,IAAxB,CAA7B;AACD;;AAED,aAAOD,QAAQ,CAACC,IAAhB;AACD,KAXI,CAAP;AAYD;;AAEDM,EAAAA,MAAM,GAAG;AACPJ,IAAAA,YAAY,CAACK,UAAb,CAAwB,MAAxB;AACD;;AAEDC,EAAAA,EAAE,GAAG;AACHA,IAAAA,EAAE,GAAGhB,KAAK,CACPiB,GADE,CACE,mCADF,EACuC;AACxCC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAAST,YAAY,CAACU,OAAb,CAAqB,MAArB,EAA6BX,YAAa;AAD5D;AAD+B,KADvC,EAMFH,IANE,CAMIC,QAAD,IAAc;AAClBc,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBf,QAAnB;AACA,aAAOS,EAAP;AACD,KATE,CAAL;AAUD;;AAEDO,EAAAA,QAAQ,CAACC,IAAD,EAAOrB,KAAP,EAAcC,QAAd,EAAwB;AAC9B,WAAOJ,KAAK,CAACK,IAAN,CAAW,yCAAX,EAAsD;AAC3DmB,MAAAA,IAD2D;AAE3DrB,MAAAA,KAF2D;AAG3DC,MAAAA;AAH2D,KAAtD,CAAP;AAKD;;AAEDqB,EAAAA,cAAc,GAAG;AACf,WAAOb,IAAI,CAACc,KAAL,CAAWhB,YAAY,CAACU,OAAb,CAAqB,MAArB,CAAX,CAAP;AACD;;AA3Ce;;AA8ClB,eAAe,IAAInB,WAAJ,EAAf","sourcesContent":["import axios from \"axios\";\n\nclass AuthService {\n  login(email, password) {\n    return axios\n      .post(\"http://localhost:8000/api/auth/login\", {\n        email,\n        password,\n      })\n      .then((response) => {\n        if (response.data.access_token) {\n          localStorage.setItem(\"user\", JSON.stringify(response.data));\n        }\n\n        return response.data;\n      });\n  }\n\n  logout() {\n    localStorage.removeItem(\"user\");\n  }\n\n  me() {\n    me = axios\n      .get(\"http://localhost:8000/api/auth/me\", {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"user\").access_token}`,\n        },\n      })\n      .then((response) => {\n        console.log(\"res\", response);\n        return me;\n      });\n  }\n\n  register(name, email, password) {\n    return axios.post(\"http://localhost:8000/api/auth/register\", {\n      name,\n      email,\n      password,\n    });\n  }\n\n  getCurrentUser() {\n    return JSON.parse(localStorage.getItem(\"user\"));\n  }\n}\n\nexport default new AuthService();\n"]},"metadata":{},"sourceType":"module"}